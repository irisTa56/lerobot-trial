nodes:
  - id: keyboard
    build: uv sync --frozen
    path: src/nodes/run_keyboard.py
    inputs:
      tick: dora/timer/millis/100
    outputs:
      - control
  - id: gym-hil
    build: uv sync --frozen
    path: with_mujoco_on_mac.sh
    args: src/nodes/run_gym_hil.py
    inputs:
      tick: dora/timer/millis/100
      action: lerobot/action
      control: keyboard/control
    outputs:
      - episode
  - id: lerobot
    build: uv sync --frozen
    path: src/nodes/record_by_lerobot.py
    args: |
      --config_path configs/example_gym_hil_eval.json
      --policy.path=outputs/train/gym_hil_trial/checkpoints/last/pretrained_model
    inputs:
      control: keyboard/control
      episode: gym-hil/episode
    outputs:
      - action
